重构代码，与stm32的hal库类似，目前整个项目逻辑应该是比较清晰的